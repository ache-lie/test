<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>sqlStudy</title>
      <link href="/blog/2023/03/21/21-sql-test01/"/>
      <url>/blog/2023/03/21/21-sql-test01/</url>
      
        <content type="html"><![CDATA[<hr><h3 id="Sql-Practise"><a href="#Sql-Practise" class="headerlink" title="Sql Practise"></a>Sql Practise</h3><h4 id="1-建表语句"><a href="#1-建表语句" class="headerlink" title="1. 建表语句"></a>1. 建表语句</h4><h5 id="1-1-book表"><a href="#1-1-book表" class="headerlink" title="1.1 book表"></a>1.1 book表</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> book (</span><br><span class="line">b_no <span class="type">varchar</span>(<span class="number">10</span>),</span><br><span class="line">b_type <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">b_name <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">b_author <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">b_publish <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">b_price <span class="type">decimal</span>(<span class="number">18</span>,<span class="number">2</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h5 id="1-2-borrow表"><a href="#1-2-borrow表" class="headerlink" title="1.2 borrow表"></a>1.2 borrow表</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> borrow ( </span><br><span class="line">  r_no <span class="type">varchar</span>(<span class="number">20</span>), </span><br><span class="line">  b_no <span class="type">varchar</span>(<span class="number">20</span>), </span><br><span class="line">  b_time datetime</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h5 id="1-3-reader表"><a href="#1-3-reader表" class="headerlink" title="1.3 reader表"></a>1.3 reader表</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> reader (</span><br><span class="line">r_no <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">r_unit <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">r_name <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">r_sex <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">r_pro <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">r_address <span class="type">varchar</span>(<span class="number">20</span>) </span><br><span class="line">);</span><br></pre></td></tr></table></figure><h4 id="2-插入数据"><a href="#2-插入数据" class="headerlink" title="2. 插入数据"></a>2. 插入数据</h4><h5 id="2-1-book表"><a href="#2-1-book表" class="headerlink" title="2.1 book表"></a>2.1 book表</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="string">&#x27;445501&#x27;</span>, <span class="string">&#x27;TP3/12&#x27;</span>, <span class="string">&#x27;数据库导论&#x27;</span>, <span class="string">&#x27;王强&#x27;</span>, <span class="string">&#x27;科学出版社&#x27;</span>, <span class="number">17.90</span> );</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="string">&#x27;445502&#x27;</span>, <span class="string">&#x27;TP3/12&#x27;</span>, <span class="string">&#x27;数据库导论&#x27;</span>, <span class="string">&#x27;王强&#x27;</span>, <span class="string">&#x27;科学出版社&#x27;</span>, <span class="number">17.90</span> );</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="string">&#x27;445503&#x27;</span>, <span class="string">&#x27;TP3/12&#x27;</span>, <span class="string">&#x27;数据库导论&#x27;</span>, <span class="string">&#x27;王强&#x27;</span>, <span class="string">&#x27;科学出版社&#x27;</span>, <span class="number">17.90</span> );</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="string">&#x27;332211&#x27;</span>, <span class="string">&#x27;TP5/10&#x27;</span>, <span class="string">&#x27;计算机基础&#x27;</span>, <span class="string">&#x27;李伟&#x27;</span>, <span class="string">&#x27;高等教育出版社&#x27;</span>, <span class="number">18.00</span> );</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="string">&#x27;112266&#x27;</span>, <span class="string">&#x27;TP3/12&#x27;</span>, <span class="string">&#x27;FoxBASE&#x27;</span>, <span class="string">&#x27;张三&#x27;</span>, <span class="string">&#x27;电子工业出版社&#x27;</span>, <span class="number">23.60</span> );</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="string">&#x27;665544&#x27;</span>, <span class="string">&#x27;TS7/21&#x27;</span>, <span class="string">&#x27;高等数学&#x27;</span>, <span class="string">&#x27;刘明&#x27;</span>, <span class="string">&#x27;高等教育出版社&#x27;</span>, <span class="number">20.00</span> );</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="string">&#x27;114455&#x27;</span>, <span class="string">&#x27;TR9/12&#x27;</span>, <span class="string">&#x27;线性代数&#x27;</span>, <span class="string">&#x27;孙业&#x27;</span>, <span class="string">&#x27;北京大学出版社&#x27;</span>, <span class="number">20.80</span> );</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="string">&#x27;113388&#x27;</span>, <span class="string">&#x27;TR7/90&#x27;</span>, <span class="string">&#x27;大学英语&#x27;</span>, <span class="string">&#x27;胡玲&#x27;</span>, <span class="string">&#x27;清华大学出版社&#x27;</span>, <span class="number">12.50</span> );</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="string">&#x27;446601&#x27;</span>, <span class="string">&#x27;TP4/13&#x27;</span>, <span class="string">&#x27;数据库基础&#x27;</span>, <span class="string">&#x27;马凌云&#x27;</span>, <span class="string">&#x27;人民邮电出版社&#x27;</span>, <span class="number">22.50</span> );</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="string">&#x27;446602&#x27;</span>, <span class="string">&#x27;TP4/13&#x27;</span>, <span class="string">&#x27;数据库基础&#x27;</span>, <span class="string">&#x27;马凌云&#x27;</span>, <span class="string">&#x27;人民邮电出版社&#x27;</span>, <span class="number">22.50</span> );</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="string">&#x27;446603&#x27;</span>, <span class="string">&#x27;TP4/13&#x27;</span>, <span class="string">&#x27;数据库基础&#x27;</span>, <span class="string">&#x27;马凌云&#x27;</span>, <span class="string">&#x27;人民邮电出版社&#x27;</span>, <span class="number">22.50</span> );</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="string">&#x27;449901&#x27;</span>, <span class="string">&#x27;TP4/14&#x27;</span>, <span class="string">&#x27;FoxPro大全&#x27;</span>, <span class="string">&#x27;周虹&#x27;</span>, <span class="string">&#x27;科学出版社&#x27;</span>, <span class="number">32.70</span> );</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="string">&#x27;449902&#x27;</span>, <span class="string">&#x27;TP4/14&#x27;</span>, <span class="string">&#x27;FoxPro大全&#x27;</span>, <span class="string">&#x27;周虹&#x27;</span>, <span class="string">&#x27;科学出版社&#x27;</span>, <span class="number">32.70</span> );</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="string">&#x27;118801&#x27;</span>, <span class="string">&#x27;TP4/15&#x27;</span>, <span class="string">&#x27;计算机网络&#x27;</span>, <span class="string">&#x27;黄力钧&#x27;</span>, <span class="string">&#x27;高等教育出版社&#x27;</span>, <span class="number">21.80</span> );</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="string">&#x27;118802&#x27;</span>, <span class="string">&#x27;TP4/15&#x27;</span>, <span class="string">&#x27;计算机网络&#x27;</span>, <span class="string">&#x27;黄力钧&#x27;</span>, <span class="string">&#x27;高等教育出版社&#x27;</span>, <span class="number">21.80</span> );</span><br></pre></td></tr></table></figure><h5 id="2-2-borrow表"><a href="#2-2-borrow表" class="headerlink" title="2.2 borrow表"></a>2.2 borrow表</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> borrow</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="string">&#x27;112&#x27;</span>, <span class="string">&#x27;445501&#x27;</span>, <span class="string">&#x27;1997-3-19&#x27;</span> );</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> borrow</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="string">&#x27;125&#x27;</span>, <span class="string">&#x27;332211&#x27;</span>, <span class="string">&#x27;1997-2-12&#x27;</span> );</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> borrow</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="string">&#x27;111&#x27;</span>, <span class="string">&#x27;445503&#x27;</span>, <span class="string">&#x27;1997-8-21&#x27;</span> );</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> borrow</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="string">&#x27;112&#x27;</span>, <span class="string">&#x27;112266&#x27;</span>, <span class="string">&#x27;1997-3-14&#x27;</span> );</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> borrow</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="string">&#x27;114&#x27;</span>, <span class="string">&#x27;665544&#x27;</span>, <span class="string">&#x27;1997-10-21&#x27;</span> );</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> borrow</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="string">&#x27;120&#x27;</span>, <span class="string">&#x27;114455&#x27;</span>, <span class="string">&#x27;1997-11-2&#x27;</span> );</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> borrow</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="string">&#x27;120&#x27;</span>, <span class="string">&#x27;118801&#x27;</span>, <span class="string">&#x27;1997-10-18&#x27;</span> );</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> borrow</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="string">&#x27;119&#x27;</span>, <span class="string">&#x27;446603&#x27;</span>, <span class="string">&#x27;1997-12-12&#x27;</span> );</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> borrow</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="string">&#x27;112&#x27;</span>, <span class="string">&#x27;449901&#x27;</span>, <span class="string">&#x27;1997-10-23&#x27;</span> );</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> borrow</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="string">&#x27;115&#x27;</span>, <span class="string">&#x27;449902&#x27;</span>, <span class="string">&#x27;1997-8-21&#x27;</span> );</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> borrow</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="string">&#x27;118&#x27;</span>, <span class="string">&#x27;118801&#x27;</span>, <span class="string">&#x27;1997-9-10&#x27;</span> );</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="2-3-reader表"><a href="#2-3-reader表" class="headerlink" title="2.3 reader表"></a>2.3 reader表</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> reader</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="string">&#x27;111&#x27;</span>, <span class="string">&#x27;信息系&#x27;</span>, <span class="string">&#x27;王维利&#x27;</span>, <span class="string">&#x27;女&#x27;</span>, <span class="string">&#x27;教授&#x27;</span>, <span class="string">&#x27;1号楼&#x27;</span> );</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> reader</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="string">&#x27;112&#x27;</span>, <span class="string">&#x27;财会系&#x27;</span>, <span class="string">&#x27;李立&#x27;</span>, <span class="string">&#x27;男&#x27;</span>, <span class="string">&#x27;副教授&#x27;</span>, <span class="string">&#x27;2号楼&#x27;</span> );</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> reader</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="string">&#x27;113&#x27;</span>, <span class="string">&#x27;经济系&#x27;</span>, <span class="string">&#x27;张三&#x27;</span>, <span class="string">&#x27;男&#x27;</span>, <span class="string">&#x27;讲师&#x27;</span>, <span class="string">&#x27;3号楼&#x27;</span> );</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> reader</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="string">&#x27;114&#x27;</span>, <span class="string">&#x27;信息系&#x27;</span>, <span class="string">&#x27;周华发&#x27;</span>, <span class="string">&#x27;男&#x27;</span>, <span class="string">&#x27;讲师&#x27;</span>, <span class="string">&#x27;1号楼&#x27;</span> );</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> reader</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="string">&#x27;115&#x27;</span>, <span class="string">&#x27;信息系&#x27;</span>, <span class="string">&#x27;赵正义&#x27;</span>, <span class="string">&#x27;男&#x27;</span>, <span class="string">&#x27;工程师&#x27;</span>, <span class="string">&#x27;1号楼&#x27;</span> );</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> reader</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="string">&#x27;116&#x27;</span>, <span class="string">&#x27;信息系&#x27;</span>, <span class="string">&#x27;李明&#x27;</span>, <span class="string">&#x27;男&#x27;</span>, <span class="string">&#x27;副教授&#x27;</span>, <span class="string">&#x27;1号楼&#x27;</span> );</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> reader</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="string">&#x27;117&#x27;</span>, <span class="string">&#x27;计算机系&#x27;</span>, <span class="string">&#x27;李小峰&#x27;</span>, <span class="string">&#x27;男&#x27;</span>, <span class="string">&#x27;助教&#x27;</span>, <span class="string">&#x27;1号楼&#x27;</span> );</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> reader</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="string">&#x27;118&#x27;</span>, <span class="string">&#x27;计算机系&#x27;</span>, <span class="string">&#x27;许鹏飞&#x27;</span>, <span class="string">&#x27;男&#x27;</span>, <span class="string">&#x27;教授&#x27;</span>, <span class="string">&#x27;1号楼&#x27;</span> );</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> reader</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="string">&#x27;119&#x27;</span>, <span class="string">&#x27;计算机系&#x27;</span>, <span class="string">&#x27;刘大龙&#x27;</span>, <span class="string">&#x27;男&#x27;</span>, <span class="string">&#x27;副教授&#x27;</span>, <span class="string">&#x27;4号楼&#x27;</span> );</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> reader</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="string">&#x27;120&#x27;</span>, <span class="string">&#x27;国际贸易&#x27;</span>, <span class="string">&#x27;李雪&#x27;</span>, <span class="string">&#x27;男&#x27;</span>, <span class="string">&#x27;副教授&#x27;</span>, <span class="string">&#x27;4号楼&#x27;</span> );</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> reader</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="string">&#x27;121&#x27;</span>, <span class="string">&#x27;国际贸易&#x27;</span>, <span class="string">&#x27;李爽&#x27;</span>, <span class="string">&#x27;女&#x27;</span>, <span class="string">&#x27;讲师&#x27;</span>, <span class="string">&#x27;4号楼&#x27;</span> );</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> reader</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="string">&#x27;122&#x27;</span>, <span class="string">&#x27;国际贸易&#x27;</span>, <span class="string">&#x27;王纯&#x27;</span>, <span class="string">&#x27;女&#x27;</span>, <span class="string">&#x27;讲师&#x27;</span>, <span class="string">&#x27;4号楼&#x27;</span> );</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> reader</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="string">&#x27;123&#x27;</span>, <span class="string">&#x27;财会系&#x27;</span>, <span class="string">&#x27;沈小霞&#x27;</span>, <span class="string">&#x27;女&#x27;</span>, <span class="string">&#x27;助教&#x27;</span>, <span class="string">&#x27;2号楼&#x27;</span> );</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> reader</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="string">&#x27;124&#x27;</span>, <span class="string">&#x27;财会系&#x27;</span>, <span class="string">&#x27;朱海&#x27;</span>, <span class="string">&#x27;男&#x27;</span>, <span class="string">&#x27;讲师&#x27;</span>, <span class="string">&#x27;2号楼&#x27;</span> );</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> reader</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="string">&#x27;125&#x27;</span>, <span class="string">&#x27;财会系&#x27;</span>, <span class="string">&#x27;马英明&#x27;</span>, <span class="string">&#x27;男&#x27;</span>, <span class="string">&#x27;副教授&#x27;</span>, <span class="string">&#x27;2号楼&#x27;</span> );</span><br></pre></td></tr></table></figure><h4 id="3-练习"><a href="#3-练习" class="headerlink" title="3. 练习"></a>3. 练习</h4><h5 id="3-1"><a href="#3-1" class="headerlink" title="3.1"></a>3.1</h5><p>问：查找出价格位于10元和20元之间的图书出版社以及价格，结果按出版单位和单价升序排序</p><p>我的答：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 我的</span></span><br><span class="line"><span class="keyword">SELECT</span> b_publish <span class="keyword">AS</span> <span class="string">&#x27;出版社&#x27;</span>,</span><br><span class="line">b_price <span class="keyword">AS</span> <span class="string">&#x27;价格&#x27;</span></span><br><span class="line"><span class="keyword">FROM</span> book </span><br><span class="line"><span class="keyword">WHERE</span> b_price <span class="keyword">BETWEEN</span> <span class="number">10</span> <span class="keyword">AND</span> <span class="number">20</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> b_publish <span class="keyword">ASC</span>,b_price <span class="keyword">ASC</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 出题者</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    b_publish <span class="keyword">as</span> &quot;出版社&quot; ,</span><br><span class="line">b_price <span class="keyword">as</span>  &quot;价格&quot;</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">book </span><br><span class="line"><span class="keyword">WHERE</span> b_price <span class="keyword">BETWEEN</span> <span class="number">10</span> <span class="keyword">AND</span> <span class="number">20</span> </span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> b_price, b_publish;</span><br></pre></td></tr></table></figure><p>结果：</p><p><img src="https://s1.ax1x.com/2023/03/21/ppNoXb4.png" alt="3.1"></p><h5 id="3-2"><a href="#3-2" class="headerlink" title="3.2"></a>3.2</h5><p>问：找出藏书中各个出版社的册数、价值总额</p><p>注意：一个出版社出版的不同的数的价格不同，计算总额时不能使用</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">b_price<span class="operator">*</span><span class="built_in">COUNT</span>(b_publish) <span class="keyword">AS</span> <span class="string">&#x27;总额&#x27;</span></span><br></pre></td></tr></table></figure><p>答：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 我的</span></span><br><span class="line"><span class="keyword">SELECT</span> b_publish <span class="keyword">AS</span> <span class="string">&#x27;出版社&#x27;</span>,</span><br><span class="line"><span class="built_in">COUNT</span>(b_publish) <span class="keyword">AS</span> <span class="string">&#x27;册数&#x27;</span>,</span><br><span class="line"><span class="built_in">SUM</span>(b_price) <span class="keyword">AS</span> <span class="string">&#x27;总额&#x27;</span></span><br><span class="line"><span class="keyword">FROM</span> book</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> b_publish</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>结果：</p><p><img src="https://s1.ax1x.com/2023/03/21/ppN727Q.png" alt="3.2"></p><h5 id="3-3"><a href="#3-3" class="headerlink" title="3.3"></a>3.3</h5><p>问：求出各个出版社图书的最高价格、最低价格和总册数</p><p>答：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 我的</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">b_publish <span class="keyword">AS</span> <span class="string">&#x27;出版社&#x27;</span>,</span><br><span class="line"><span class="built_in">MAX</span>(b_price) <span class="keyword">AS</span> <span class="string">&#x27;最高价格&#x27;</span>,</span><br><span class="line"><span class="built_in">MIN</span>(b_price) <span class="keyword">AS</span> <span class="string">&#x27;最低价格&#x27;</span>,</span><br><span class="line"><span class="built_in">COUNT</span>(b_publish) <span class="keyword">AS</span> <span class="string">&#x27;总册数&#x27;</span></span><br><span class="line"><span class="keyword">FROM</span> book</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> b_publish </span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">b_publish <span class="keyword">as</span> &quot;出版社&quot; ,</span><br><span class="line"><span class="built_in">MAX</span>( b_price ) <span class="keyword">as</span> &quot;最高价格&quot;,</span><br><span class="line"><span class="built_in">min</span>( b_price ) <span class="keyword">as</span> &quot;最低价格&quot;,</span><br><span class="line"><span class="built_in">COUNT</span>(b_no) <span class="keyword">as</span> &quot;册数&quot;</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">book</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span></span><br><span class="line">    b_publish</span><br></pre></td></tr></table></figure><p>结果：</p><p><img src="https://s1.ax1x.com/2023/03/21/ppNHANd.png" alt="3.3"></p><h5 id="3-4"><a href="#3-4" class="headerlink" title="3.4"></a>3.4</h5><p>问：查找所有借了书的读者的姓名以及所在单位</p><p>答：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 我的</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span></span><br><span class="line">r.r_name <span class="keyword">AS</span> <span class="string">&#x27;姓名&#x27;</span>,</span><br><span class="line">r.r_unit <span class="keyword">AS</span> <span class="string">&#x27;所在单位&#x27;</span>,</span><br><span class="line"><span class="keyword">FROM</span>  borrow <span class="keyword">AS</span> b</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> reader <span class="keyword">as</span> r</span><br><span class="line"><span class="keyword">ON</span> b.r_no <span class="operator">=</span> r.r_no</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 出题者</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">distinct</span>  #<span class="keyword">distinct</span>删除重复的结果</span><br><span class="line">  r_name  <span class="keyword">as</span> &quot;姓名&quot; ,</span><br><span class="line">  r_unit <span class="keyword">as</span> &quot;所在单位&quot;</span><br><span class="line"><span class="keyword">FROM</span> borrow,reader </span><br><span class="line"><span class="keyword">WHERE</span> borrow.r_no <span class="operator">=</span>reader.r_no </span><br></pre></td></tr></table></figure><p>结果：</p><p><img src="https://s1.ax1x.com/2023/03/21/ppNHE4A.png" alt="3.4"></p><h5 id="3-5"><a href="#3-5" class="headerlink" title="3.5"></a>3.5</h5><p>问：找出李某所借图书的所有图书的书名及借书日期</p><p>答：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 我的(好像有点笨，一直连表查询)</span></span><br><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">reader.r_name <span class="string">&#x27;姓名&#x27;</span>,</span><br><span class="line">book.b_name <span class="string">&#x27;书名&#x27;</span>, </span><br><span class="line">borrow.b_time <span class="string">&#x27;借书日期&#x27;</span></span><br><span class="line"><span class="keyword">FROM</span> </span><br><span class="line">book</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> </span><br><span class="line">borrow</span><br><span class="line"></span><br><span class="line"><span class="keyword">ON</span> </span><br><span class="line">book.b_no <span class="operator">=</span> borrow.b_no</span><br><span class="line"></span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> </span><br><span class="line">reader</span><br><span class="line"></span><br><span class="line"><span class="keyword">ON</span> </span><br><span class="line">borrow.r_no <span class="operator">=</span> reader.r_no </span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> </span><br><span class="line">reader.r_name <span class="keyword">LIKE</span> <span class="string">&#x27;李%&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 出题者</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">b_name <span class="keyword">as</span> &quot;图书名&quot;,</span><br><span class="line">b_time <span class="keyword">as</span> &quot;借阅时间&quot;</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">borrow <span class="keyword">as</span> a,</span><br><span class="line">reader <span class="keyword">as</span> b,</span><br><span class="line">book <span class="keyword">as</span> c </span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">a.b_no <span class="operator">=</span> c.b_no </span><br><span class="line"><span class="keyword">AND</span> a.r_no <span class="operator">=</span> b.r_no </span><br><span class="line"><span class="keyword">AND</span> r_name <span class="keyword">LIKE</span> <span class="string">&#x27;李%&#x27;</span></span><br></pre></td></tr></table></figure><p>结果：</p><p><img src="https://s1.ax1x.com/2023/03/21/ppNHZ9I.png" alt="3.5"></p><h5 id="3-6"><a href="#3-6" class="headerlink" title="3.6"></a>3.6</h5><p>问：查询1997年10月以后借书的读者借书证号、姓名和单位</p><p>答：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 我的</span></span><br><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">borrow.r_no <span class="keyword">AS</span> <span class="string">&#x27;借书证号&#x27;</span>,</span><br><span class="line">reader.r_name <span class="keyword">AS</span> <span class="string">&#x27;姓名&#x27;</span>,</span><br><span class="line">reader.r_unit <span class="keyword">AS</span> <span class="string">&#x27;单位&#x27;</span></span><br><span class="line"><span class="keyword">FROM</span> </span><br><span class="line">borrow,reader</span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">borrow.r_no <span class="operator">=</span> reader.r_no <span class="keyword">AND</span> borrow.b_time <span class="operator">&gt;</span> <span class="string">&#x27;1997-10-1&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 出题者的好像查错了（思路是对的）</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">  borrow.r_no <span class="keyword">as</span> &quot;借书证号&quot;,   #对于重复出现的列。必须写具体的borrow.r_no因为有两个表都有r_no列 </span><br><span class="line">b_name <span class="keyword">as</span> &quot;姓名&quot;,</span><br><span class="line">r_unit <span class="keyword">as</span> &quot;单位&quot; </span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">borrow</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> reader <span class="keyword">ON</span> borrow.r_no <span class="operator">=</span> reader.r_no</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> book <span class="keyword">ON</span> borrow.b_no <span class="operator">=</span> book.b_no </span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">b_time <span class="operator">&gt;</span> <span class="string">&#x27;1997-10-1&#x27;</span></span><br><span class="line"></span><br><span class="line"># 方法二</span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">a.r_no <span class="keyword">as</span> &quot;借书证号&quot;,   </span><br><span class="line">b_name <span class="keyword">as</span> &quot;姓名&quot;,</span><br><span class="line">r_unit <span class="keyword">as</span> &quot;单位&quot; </span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">borrow <span class="keyword">as</span> a,</span><br><span class="line">reader <span class="keyword">as</span> b,</span><br><span class="line">book <span class="keyword">as</span> c </span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">a.b_no <span class="operator">=</span> c.b_no </span><br><span class="line"><span class="keyword">AND</span> a.r_no <span class="operator">=</span> b.r_no </span><br><span class="line"><span class="keyword">AND</span> b_time <span class="operator">&gt;</span> <span class="string">&#x27;1997-10-1&#x27;</span></span><br></pre></td></tr></table></figure><p>结果：</p><p><img src="https://s1.ax1x.com/2023/03/21/ppNHe3t.png" alt="3.6"></p><h5 id="3-7"><a href="#3-7" class="headerlink" title="3.7"></a>3.7</h5><p>问：找出借阅了 FoxPro大全一书的借书证号以及作者</p><p>答：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 我的</span></span><br><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">borrow.r_no <span class="keyword">AS</span> <span class="string">&#x27;借书证号&#x27;</span>,</span><br><span class="line">book.b_author <span class="keyword">AS</span> <span class="string">&#x27;作者&#x27;</span></span><br><span class="line"><span class="keyword">FROM</span> </span><br><span class="line">book,borrow</span><br><span class="line"><span class="keyword">WHERE</span> </span><br><span class="line">book.b_no <span class="operator">=</span> borrow.b_no <span class="keyword">AND</span> book.b_name <span class="operator">=</span> <span class="string">&#x27;FoxPro大全&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 出题者</span></span><br><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">borrow.r_no <span class="keyword">as</span> &quot;借书证号&quot; ,</span><br><span class="line">b_author <span class="keyword">as</span> &quot;作者&quot;</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">borrow</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> book <span class="keyword">ON</span> borrow.b_no <span class="operator">=</span> book.b_no </span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">b_name <span class="operator">=</span> <span class="string">&#x27;FoxPro大全&#x27;</span></span><br></pre></td></tr></table></figure><p>结果：</p><p><img src="https://s1.ax1x.com/2023/03/21/ppNHmgP.png" alt="3.7"></p><h5 id="3-8"><a href="#3-8" class="headerlink" title="3.8"></a>3.8</h5><p>问：分别找出借书人次超过1人次的单位及人次数</p><p>答：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 我的</span></span><br><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">reader.r_unit <span class="keyword">AS</span> <span class="string">&#x27;单位&#x27;</span>,</span><br><span class="line"><span class="built_in">COUNT</span>(borrow.r_no) <span class="keyword">AS</span> <span class="string">&#x27;人数&#x27;</span></span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">borrow</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span></span><br><span class="line">reader</span><br><span class="line"><span class="keyword">ON</span></span><br><span class="line">borrow.r_no <span class="operator">=</span> reader.r_no</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span></span><br><span class="line">reader.r_unit</span><br><span class="line"><span class="keyword">HAVING</span></span><br><span class="line"><span class="built_in">COUNT</span>(borrow.r_no) <span class="operator">&gt;</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 出题者</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">r_unit <span class="keyword">as</span> &quot;单位&quot;,</span><br><span class="line"><span class="built_in">COUNT</span>(borrow.r_no) <span class="keyword">as</span> &quot;人次数&quot; </span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">borrow</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> reader <span class="keyword">ON</span> borrow.r_no <span class="operator">=</span> reader.r_no</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span></span><br><span class="line">r_unit </span><br><span class="line"><span class="keyword">HAVING</span></span><br><span class="line"><span class="built_in">count</span>(borrow.r_no) <span class="operator">&gt;</span> <span class="number">1</span>;</span><br></pre></td></tr></table></figure><p>结果：</p><p><img src="https://s1.ax1x.com/2023/03/21/ppNHnjf.png" alt="3.8"></p><h5 id="3-9"><a href="#3-9" class="headerlink" title="3.9"></a>3.9</h5><p>问：找出与赵正义在同一天借书的读者姓名、所在单位以及借书日期</p><p>答：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 我的</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">reader.r_name <span class="keyword">AS</span> <span class="string">&#x27;姓名&#x27;</span>,</span><br><span class="line">reader.r_unit <span class="keyword">AS</span> <span class="string">&#x27;单位&#x27;</span>,</span><br><span class="line">borrow.b_time <span class="keyword">AS</span> <span class="string">&#x27;借书日期&#x27;</span></span><br><span class="line"><span class="keyword">FROM</span> </span><br><span class="line">reader,borrow</span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">borrow.r_no <span class="operator">=</span> reader.r_no <span class="keyword">AND</span> borrow.b_time </span><br><span class="line"><span class="operator">=</span> (</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> b_time <span class="keyword">FROM</span> </span><br><span class="line"></span><br><span class="line">borrow,reader</span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">borrow.r_no <span class="operator">=</span> reader.r_no</span><br><span class="line"><span class="keyword">AND</span></span><br><span class="line">reader.r_name <span class="operator">=</span> <span class="string">&#x27;赵正义&#x27;</span></span><br><span class="line"></span><br><span class="line">) </span><br><span class="line"><span class="keyword">AND</span> reader.r_name <span class="operator">!=</span><span class="string">&#x27;赵正义&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 出题者</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">r.r_name <span class="keyword">as</span> 姓名,</span><br><span class="line">r.r_unit <span class="keyword">as</span> 所在单位,</span><br><span class="line">b.b_time  <span class="keyword">as</span> 借书日期</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">borrow <span class="keyword">as</span> b,</span><br><span class="line">reader <span class="keyword">as</span> r</span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">b.r_no <span class="operator">=</span> r.r_no </span><br><span class="line"><span class="keyword">AND</span> b.b_time <span class="operator">=</span> (</span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">b.b_time </span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">borrow <span class="keyword">as</span> b,</span><br><span class="line">reader <span class="keyword">as</span> r</span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">b.r_no <span class="operator">=</span> r.r_no </span><br><span class="line"><span class="keyword">AND</span> r.r_name <span class="operator">=</span> <span class="string">&#x27;赵正义&#x27;</span> </span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>结果：</p><p><img src="https://s1.ax1x.com/2023/03/21/ppNHKu8.png" alt="3.9"></p><p><img src="https://s1.ax1x.com/2023/03/21/ppNHMDS.png" alt="3.9"></p><h5 id="3-10"><a href="#3-10" class="headerlink" title="3.10"></a>3.10</h5><p>问：求信息系当前借阅图书的读者人次数</p><p>答：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 我的</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line"><span class="built_in">COUNT</span>(reader.r_no) <span class="keyword">AS</span> <span class="string">&#x27;人数&#x27;</span></span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">reader,borrow</span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">reader.r_no <span class="operator">=</span> borrow.r_no</span><br><span class="line"><span class="keyword">AND</span></span><br><span class="line">reader.r_unit <span class="keyword">in</span> (<span class="string">&#x27;信息系&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 出题者</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line"><span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">AS</span> 人次数 </span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">borrow b,</span><br><span class="line">reader r </span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">r.r_no <span class="operator">=</span> b.r_no </span><br><span class="line"><span class="keyword">AND</span> r.r_unit <span class="operator">=</span> <span class="string">&#x27;信息系&#x27;</span></span><br></pre></td></tr></table></figure><p>结果：</p><h5 id="3-11"><a href="#3-11" class="headerlink" title="3.11"></a>3.11</h5><p>问：找出当前至少借阅了2本书的读者及所在单位</p><p>答：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 我的</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 出题者</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span></span><br><span class="line">r1.r_name <span class="keyword">as</span> 姓名,</span><br><span class="line">r1.r_unit <span class="keyword">as</span> 单位</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">reader <span class="keyword">as</span> r1</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> borrow <span class="keyword">as</span> b1 <span class="keyword">ON</span> r1.r_no <span class="operator">=</span> b1.r_no </span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">r1.r_name <span class="keyword">IN</span> (</span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">r2.r_name </span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">reader r2</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> borrow b2 <span class="keyword">ON</span> r2.r_no <span class="operator">=</span> b2.r_no </span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span></span><br><span class="line">r2.r_name </span><br><span class="line"><span class="keyword">HAVING</span></span><br><span class="line"><span class="built_in">COUNT</span>(<span class="operator">*</span>)<span class="operator">&gt;=</span> <span class="number">2</span> </span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>结果：</p><h5 id="3-12"><a href="#3-12" class="headerlink" title="3.12"></a>3.12</h5><p>问：找出姓李的读者姓名和所在单位</p><p>答：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 我的</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 出题者</span></span><br><span class="line"><span class="keyword">SELECT</span> r_name ,r_unit</span><br><span class="line"><span class="keyword">FROM</span> reader</span><br><span class="line"><span class="keyword">WHERE</span> r_name <span class="keyword">LIKE</span><span class="string">&#x27;李%&#x27;</span>;</span><br></pre></td></tr></table></figure><p>结果：</p><h5 id="3-13"><a href="#3-13" class="headerlink" title="3.13"></a>3.13</h5><p>问：求科学出版社图书的最高单价、最低单价和平均单价</p><p>答：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 我的</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 出题者</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">  b_publish <span class="keyword">as</span> 出版社,</span><br><span class="line"><span class="built_in">MAX</span>( b_price ) <span class="keyword">as</span> 最高价,</span><br><span class="line"><span class="built_in">MIN</span>( b_price ) <span class="keyword">as</span> 最低价,</span><br><span class="line"><span class="built_in">AVG</span>( b_price ) <span class="keyword">as</span> 平均价</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">book </span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span></span><br><span class="line">b_publish </span><br><span class="line"><span class="keyword">HAVING</span></span><br><span class="line">b_publish <span class="operator">=</span> <span class="string">&#x27;科学出版社&#x27;</span>;</span><br></pre></td></tr></table></figure><p>结果：</p><h5 id="3-14"><a href="#3-14" class="headerlink" title="3.14"></a>3.14</h5><p>问：查找出高等教育出版社的所有图书及单价，结果按单价降序排列</p><p>答：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 我的</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 出题者</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span></span><br><span class="line">b_name <span class="keyword">AS</span> 图书 ,</span><br><span class="line">b_price <span class="keyword">as</span> 单价</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">book </span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">b_publish <span class="operator">=</span> <span class="string">&#x27;高等教育出版社&#x27;</span> </span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span></span><br><span class="line">b_price <span class="keyword">DESC</span>;  #<span class="keyword">desc</span> 是降序。 默认是按升序输出</span><br></pre></td></tr></table></figure><p>结果：</p><h5 id="3-15"><a href="#3-15" class="headerlink" title="3.15"></a>3.15</h5><p>问：列出图书库中所有藏书的书名以及出版单位</p><p>答：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 我的</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 出题者</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">b_name <span class="keyword">AS</span> 书名,</span><br><span class="line">b_publish <span class="keyword">AS</span> 出版单位 </span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">book </span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span></span><br><span class="line">b_name</span><br></pre></td></tr></table></figure><p>结果：</p>]]></content>
      
      
      
        <tags>
            
            <tag> sqlStudy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>开学考试</title>
      <link href="/blog/2023/02/11/11-test/"/>
      <url>/blog/2023/02/11/11-test/</url>
      
        <content type="html"><![CDATA[<hr><h2 id="考试日期"><a href="#考试日期" class="headerlink" title="考试日期"></a>考试日期</h2><h3 id="已定"><a href="#已定" class="headerlink" title="已定"></a>已定</h3><ol><li>物理 2月18日 14:00 - 16:00</li><li>英语 2月19日 14:00 - 16:00</li><li>概率论 2月20日 14:00 - 16:00</li><li>毛概 2月21日 14:00 - 16:00</li><li>模电 2月22日 19:00 - 21:00</li><li>数电 2月23日 下午</li><li>数据结构 2月24日 14:00 - 16:00</li></ol><h3 id="待定"><a href="#待定" class="headerlink" title="待定"></a>待定</h3>]]></content>
      
      
      
        <tags>
            
            <tag> diary </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>医院</title>
      <link href="/blog/2023/01/04/04-hospital/"/>
      <url>/blog/2023/01/04/04-hospital/</url>
      
        <content type="html"><![CDATA[<hr><h2 id="医院"><a href="#医院" class="headerlink" title="医院"></a>医院</h2><p>&amp;emsp;&amp;emsp;今天一大早就去医务室了.那个医生开口就说,可怜的小家伙,给他挂点水吧,把我吓死了.不过好在后来没有打点滴,开了点消毒的药就回来了,涂了之后还是有点疼,希望这个能早点好.<br>&amp;emsp;&amp;emsp;我太难了😭.</p><!--     首行缩进两字符        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        &emsp;&emsp; -->]]></content>
      
      
      
        <tags>
            
            <tag> diary </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
